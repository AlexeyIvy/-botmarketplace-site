# CloudCode Control Loop (инструкция исполнения)

Документ фиксирует обязательный цикл работы для исполнителя (CloudCode) и контроля со стороны PM/ревью.

## 1) Обязательный цикл на каждом мини-этапе

`план -> реализация -> ревью-контроль -> правки -> merge`

## 2) Шаблон шага (что CloudCode обязан прислать)

Для каждого шага CloudCode обязан предоставить:
1. **Plan**
   - цель шага;
   - список файлов к изменению;
   - риски и ограничения.
2. **Implementation**
   - что изменено;
   - почему именно так;
   - какие варианты отклонены.
3. **Verification**
   - точные команды проверки;
   - фактический резульат (pass/fail);
   - лог/скрин/артефакт при необходимости.
4. **Handover**
   - что готово;
   - что осталось;
   - следующий шаг.

## 3) Критерии приёмки шага

Шаг принимается только если:
- выполнен заявленный scope шага;
- проверки воспроизводимы командами;
- нет регрессий в уже принятых шагах;
- есть понятный commit message и PR-описание.

## 4) Контроль качества документации и кода

MUST:
- не нарушать source-of-truth документы (`openapi.yaml`, `strategy.schema.json`, runtime правила);
- при изменении контракта обновлять документацию в том же PR;
- не смешивать несвязанные изменения в одном шаге.

SHOULD:
- шаги должны быть маленькими и проверяемыми;
- сложные задачи декомпозировать на 2–3 подшага.

## 5) Definition of Done для Foundation-шагов

- есть работающий результат по шагу;
- есть проверка/тесты;
- есть обновлённая документация;
- шаг закрыт отдельным PR.
